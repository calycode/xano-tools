{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "type": "object",
    "properties": {
        "name": {
            "type": "string",
            "description": "The name of the item. This is used to identify the item in the registry. It should be unique for your registry. It can contain '/' to indicate hieararchy."
        },
        "type": {
            "type": "string",
            "enum": [
                "registry:table",
                "registry:addon",
                "registry:function",
                "registry:apigroup",
                "registry:query",
                "registry:middleware",
                "registry:task",
                "registry:tool",
                "registry:mcp",
                "registry:agent",
                "registry:realtime",
                "registry:workspace/trigger",
                "registry:table/trigger",
                "registry:mcp/trigger",
                "registry:agent/trigger",
                "registry:realtime/trigger",
                "registry:test",
                "registry:snippet",
                "registry:file",
                "registry:item"
            ],
            "description": "The type of the item. This is used to determine the type and target path of the item when resolved for a Xano instance."
        },
        "files": {
            "type": "array",
            "description": "The main payload of the registry item. This is an array of files that are part of the registry item. Each file is an object with a path, content, type.",
            "items": {
                "type": "object",
                "properties": {
                    "path": {
                        "type": "string",
                        "description": "The path to the file relative to the registry root."
                    },
                    "content": {
                        "type": "string",
                        "description": "The content of the file. Optional, in case of Xano it can be the text representation of a .xs file."
                    },
                    "type": {
                        "type": "string",
                        "enum": [
                            "registry:table",
                            "registry:addon",
                            "registry:function",
                            "registry:apigroup",
                            "registry:query",
                            "registry:middleware",
                            "registry:task",
                            "registry:tool",
                            "registry:mcp",
                            "registry:agent",
                            "registry:realtime",
                            "registry:workspace/trigger",
                            "registry:table/trigger",
                            "registry:mcp/trigger",
                            "registry:agent/trigger",
                            "registry:realtime/trigger",
                            "registry:test",
                            "registry:snippet",
                            "registry:item"
                        ],
                        "description": "The type of the file. This is used to determine the type of the file when resolved for a Xano instance and is also used to determine the required Metadata API path for resolution."
                    },
                    "apiGroupName": {
                        "type": "string",
                        "description": "The name of the api group into which a specific registry:query should be added. Only required for registry:query."
                    },
                    "meta": {
                        "type": "object",
                        "description": "Additional metadata for the registry item's component. This is an object with any key value pairs. Put here anything that Xano can meaningfully accept or that helps you identify the current item. e.g. updated_at or similar.",
                        "additionalProperties": true
                    }
                },
                "if": {
                    "properties": {
                        "type": {
                            "enum": [
                                "registry:query"
                            ]
                        }
                    }
                },
                "then": {
                    "required": [
                        "path",
                        "type",
                        "apiGroupName"
                    ]
                },
                "else": {
                    "required": [
                        "path",
                        "type"
                    ]
                }
            }
        },
        "description": {
            "type": "string",
            "description": "The description of the item. This is used to provide a **brief** overview of the item."
        },
        "docs": {
            "type": "string",
            "description": "The documentation for the registry item. This is a markdown string. This can be a longer explanation of how to use the item, or can have embedded images / videos etc, in the registry preview, will be rendered with Docsify."
        },
        "postInstallHint": {
            "type": "string",
            "description": "A short hint that will be presented in the console, after installing this component. Useful to take notes of variables or required customizations to make a registry item work smoothly."
        },
        "title": {
            "type": "string",
            "description": "The human-readable title for your registry item. Keep it short and descriptive. This can be used for searching or selecting in the CLI."
        },
        "author": {
            "type": "string",
            "description": "The author of the item. Recommended format: username \u003Curl\u003E"
        },
        "registryDependencies": {
            "type": "array",
            "description": "An array of registry items that this item depends on. Use the name of the item to reference it. Referencing items in external registries is NOT supported.",
            "items": {
                "type": "string"
            }
        },
        "categories": {
            "type": "array",
            "items": {
                "type": "string",
                "description": "The categories of the registry item. This is an array of strings. Helps in search and categorisation."
            }
        },
        "meta": {
            "type": "object",
            "description": "Additional metadata for the registry item. This is an object with any key value pairs. Put here extra content, that you consider useful in making this registry item be easy to understand.",
            "additionalProperties": true
        }
    },
    "required": [
        "name",
        "type",
        "files"
    ]
}